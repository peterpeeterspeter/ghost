# ============================================================================
# Ghost Mannequin Pipeline - Environment Configuration
# ============================================================================

# Development/Production Environment
NODE_ENV=development

# ============================================================================
# Required API Keys
# ============================================================================

# FAL.AI API Key for background removal (Bria 2.0)
# Get your key from: https://fal.ai/dashboard
FAL_API_KEY=your_fal_api_key_here

# Google Gemini API Key for analysis and rendering
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Freepik API Key for Gemini 2.5 Flash rendering (less restrictive content policies)
# Get your key from: https://www.freepik.com/api
FREEPIK_API_KEY=your_freepik_api_key_here

# ============================================================================
# Optional: Supabase Configuration (for storage)
# ============================================================================

# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase anonymous key
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase service role key (for server-side operations)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ============================================================================
# Pipeline Configuration
# ============================================================================

# Ghost mannequin rendering model (simple choice)
RENDERING_MODEL=freepik-gemini   # Options: 'freepik-gemini' (default), 'gemini-flash', 'seedream'

# Processing timeouts (in milliseconds)
TIMEOUT_BACKGROUND_REMOVAL=30000  # 30 seconds
TIMEOUT_ANALYSIS=90000           # 90 seconds (complex garment analysis)
TIMEOUT_ENRICHMENT=120000        # 120 seconds (enrichment analysis)
TIMEOUT_CONSOLIDATION=45000      # 45 seconds (JSON consolidation)
TIMEOUT_RENDERING=180000         # 180 seconds (ghost mannequin generation)
TIMEOUT_QA=60000                 # 60 seconds (QA analysis)

# QA Loop configuration
ENABLE_QA_LOOP=true              # Enable automatic quality assurance
MAX_QA_ITERATIONS=2              # Maximum QA correction attempts

# File upload limits
MAX_FILE_SIZE=10485760           # 10MB in bytes
MAX_REQUEST_SIZE=52428800        # 50MB in bytes (for base64 images)

# ============================================================================
# Next.js Configuration
# ============================================================================

# Next.js hostname and port (for development)
HOSTNAME=localhost
PORT=3000

# ============================================================================
# Security Configuration
# ============================================================================

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Rate limiting (requests per minute)
RATE_LIMIT=10

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable pipeline stage logging
ENABLE_PIPELINE_LOGGING=true

# ============================================================================
# Optional: External Services
# ============================================================================

# Webhook URLs for processing notifications
WEBHOOK_URL_SUCCESS=
WEBHOOK_URL_FAILURE=

# Email notifications (if using a service like SendGrid)
SENDGRID_API_KEY=
FROM_EMAIL=

# ============================================================================
# Advanced Configuration
# ============================================================================

# Pipeline concurrency limits
MAX_CONCURRENT_PIPELINES=5

# Background removal model preferences
FAL_BRIA_MODEL_VERSION=2.0

# Gemini model configurations
GEMINI_PRO_MODEL=gemini-2.5-pro
GEMINI_FLASH_MODEL=gemini-2.5-flash

# Default output settings
DEFAULT_OUTPUT_SIZE=2048x2048
DEFAULT_BACKGROUND_COLOR=white

# ============================================================================
# Development Only
# ============================================================================

# Enable development features
ENABLE_DEV_ENDPOINTS=true

# Mock API responses (for testing without API credits)
MOCK_FAL_API=false
MOCK_GEMINI_API=false

# Skip expensive operations during development
SKIP_BACKGROUND_REMOVAL=false
SKIP_RENDERING=false
